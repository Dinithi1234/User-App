(this.webpackJsonpusermanagementapp=this.webpackJsonpusermanagementapp||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){},50:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(35),r=n.n(o),s=(n(42),n.p,n(43),n(16)),l=n(13),i=n(11),u=n(74),d=n(75),j=(n(44),n(45),n(7)),b=Object(j.a)(),f=n(2);var h=function(){var e=Object(a.useState)({email:"",password:""}),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),r=Object(i.a)(o,2),j=r[0],h=r[1],p=function(e){var t=e.target.value;c(Object(l.a)(Object(l.a)({},n),{},Object(s.a)({},e.target.name,t)))};return Object(f.jsx)("div",{className:"login",children:Object(f.jsxs)(u.a,{children:[Object(f.jsx)("h2",{className:"title",children:"Sign In"}),Object(f.jsx)(u.a.Group,{controlId:"formBasicEmail",children:Object(f.jsx)(u.a.Control,{type:"email",placeholder:"Enter email",name:"email",onChange:p})}),Object(f.jsx)(u.a.Group,{controlId:"formBasicPassword",children:Object(f.jsx)(u.a.Control,{type:"password",placeholder:"Password",name:"password",onChange:p})}),Object(f.jsx)(u.a.Text,{className:j?"error":"noError",children:"Enter your credentials"}),Object(f.jsx)(d.a,{variant:"primary",type:"submit",onClick:function(e){""==n.email||""==n.password?(e.preventDefault(),h(!0)):b.push("/dashboard")},children:"Sign In"})]})})},p=n(6),O=n(37);n(50);var m=n(15),g=n.n(m),x=n(24);var v=function(e){var t=e.onAdd,n=(e.onUpdate,e.edit,Object(a.useState)("")),c=Object(i.a)(n,2),o=c[0],r=c[1];return Object(f.jsxs)("form",{className:"add-form",onSubmit:function(e){e.preventDefault(),o?(t(o),r("")):alert("Please add a User")},children:[Object(f.jsx)("input",{type:"text",placeholder:"Add User",value:o,onChange:function(e){return r(e.target.value)}}),Object(f.jsx)("input",{type:"submit",value:"Add User",className:"btn btn-block"})]})};var U=function(e){e.id;var t=e.user,n=e.onDelete,a=e.onUpdate;return Object(f.jsx)("div",{className:"user",children:Object(f.jsxs)("h5",{children:[t," ",Object(f.jsxs)("div",{children:[Object(f.jsx)(x.b,{style:{color:"rgb(243, 88, 88)",cursor:"pointer",marginRight:"20px"},onClick:n}),Object(f.jsx)(x.a,{style:{color:"rgb(70, 130, 180)",cursor:"pointer"},onClick:a})]})]})})};var S=function(e){var t=e.users,n=e.onDelete,a=e.onUpdate;return console.log("im here"),Object(f.jsx)("div",{children:t.map((function(e){return Object(f.jsx)(U,{id:e.id,user:e.fullname,onDelete:function(){return n(e.id)},onUpdate:function(){return a(e.id,e.fullname)}},e.id)}))})};var y=function(e){var t=e.name,n=e.onUpdate,c=Object(a.useState)(t),o=Object(i.a)(c,2),r=o[0],s=o[1];return Object(f.jsxs)("form",{className:"add-form",onSubmit:function(e){e.preventDefault(),r?(console.log("im in update new user is",r),n(r),s("")):alert("Please add a User")},children:[Object(f.jsx)("input",{type:"text",placeholder:"Update User",value:r,onChange:function(e){return s(e.target.value)}}),Object(f.jsx)("input",{type:"submit",value:"Update User",className:"btn btn-block"})]})};var C=function(){console.log("dashboard");var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),r=Object(i.a)(o,2),s=r[0],u=r[1],d=Object(a.useState)([]),j=Object(i.a)(d,2),b=j[0],h=j[1],p="https://602e21f94410730017c5009a.mockapi.io/users";return Object(a.useEffect)((function(){g.a.get(p).then((function(e){c(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("header",{className:"header ",children:Object(f.jsx)("h1",{children:"User Dashboard"})}),s?Object(f.jsx)(y,{name:b.fullname,onUpdate:function(e){if(console.log("im in Dashboard new value is",e),e&&!/^\s*$/.test(e)){console.log("final data",e),u(!1);var t={fullname:e};g.a.put("".concat(p,"/").concat(b.id),t).then((function(e){console.log(e),c((function(t){return t.map((function(t){return t.id===e.data.id?Object(l.a)(Object(l.a)({},t),{},{fullname:e.data.fullname}):t}))}))})).catch((function(e){return console.log(e)}))}}}):Object(f.jsx)(v,{onAdd:function(e){var t={fullname:e};console.log(t),g.a.post(p,t).then((function(e){console.log(e),c([e.data].concat(Object(O.a)(n)))})).catch((function(e){return console.log(e)}))}}),n.length>0?Object(f.jsx)(S,{users:n,onDelete:function(e){console.log("delete",e),g.a.delete("".concat(p,"/").concat(e)).then((function(t){console.log(t.data),c(n.filter((function(t){return t.id!==e})))})).catch((function(e){return console.log(e)}))},onUpdate:function(e,t){console.log("I got the values",e,t),h({id:e,fullname:t}),e,t,u(!0),console.log(s),console.log(b)}}):"No Users To Show"]})};var N=function(){return Object(f.jsx)("div",{children:Object(f.jsx)(p.b,{history:b,children:Object(f.jsxs)(p.c,{children:[Object(f.jsx)(p.a,{path:"/",exact:!0,component:h}),Object(f.jsx)(p.a,{path:"/dashboard",component:C})]})})})},w=n(21);var D=function(){return Object(f.jsx)(w.a,{children:Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(N,{})})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))};r.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(D,{})}),document.getElementById("root")),k()}},[[72,1,2]]]);
//# sourceMappingURL=main.078bfb9d.chunk.js.map